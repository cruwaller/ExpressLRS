
#####################################################################################
#
#                               LEGACY TARGETS
#
# Note: These targets are using STM32 Arduino framework!
#
#####################################################################################


[IGNORE_env:RX_2400_STM32_2020]
platform = ststm32@6.0.0
framework = arduino
#board = bluepill_f103c8_128k
board = smt32f103c8_128k
# max size = 131072 - 0x4000 = 114688
board_upload.maximum_size = 114688
build_unflags = -Os
build_flags =
	${common_env_data.flags_rx}
	${common_env_data.flags_stm32}
	${common_env_data.flags_stm32_rx_disable}
	-D TARGET_SX1280_RX_STM32F1=1
	-D TARGET_MODULE_LoRa1280=1
	-D DOMAIN_24GHZ=1
	-D HSE_VALUE=12000000U
	-D HSI_VALUE=8000000U
	-O3
	-D VECT_TAB_OFFSET=0x4000U
    -Wl,--defsym=FLASH_APP_OFFSET=16K
    -Wl,--defsym=RAM_SIZE=20K
    -Wl,--defsym=FLASH_SIZE=128K
	-Wl,-Tvariants/F103XX/ldscript.ld
	-D USE_INTERNAL_XO=0
board_build.ldscript = variants/F103XX/ldscript.ld
src_filter = ${common_env_data.src_rx} ${common_env_data.src_stm32}
upload_flags =
    BOOTLOADER=bootloader/bootloader_sx1280_rx_pcb_v02.bin
    VECT_OFFSET=0x4000
lib_deps = SPI
lib_ignore = Wire, DAC, FIFO, LoRa_SX127x

[IGNORE_env:RX_2400_STM32_2020_BF_Passthrough]
platform = ${env:RX_2400_STM32_2020.platform}
framework = ${env:RX_2400_STM32_2020.framework}
board = ${env:RX_2400_STM32_2020.board}
board_upload.maximum_size = ${env:RX_2400_STM32_2020.board_upload.maximum_size}
build_unflags = ${env:RX_2400_STM32_2020.build_unflags}
build_flags = ${env:RX_2400_STM32_2020.build_flags}
src_filter = ${env:RX_2400_STM32_2020.src_filter}
lib_deps = ${env:RX_2400_STM32_2020.lib_deps}
lib_ignore = ${env:RX_2400_STM32_2020.lib_ignore}

[IGNORE_env:RX_2400_STM32_Nano_v0_5]
platform = ststm32@7.2.0
framework = arduino
board = l432kb
# max size = 131072 - 0x4000 = 114688
board_upload.maximum_size = 114688
build_unflags = -Os
build_flags =
	${common_env_data.flags_rx}
	${common_env_data.flags_stm32}
	${common_env_data.flags_stm32_rx_disable}
	-D TARGET_SX1280_RX_NANO_v05=1
	-D TARGET_MODULE_LoRa1280=1
	-D DOMAIN_24GHZ=1
	-D HSI_VALUE=16000000U
	-D USE_HSI=1
	-O3
	-D VECT_TAB_OFFSET=0x4000U
    -Wl,--defsym=FLASH_APP_OFFSET=16K
    -Wl,--defsym=RAM_SIZE=64K
    -Wl,--defsym=FLASH_SIZE=128K
src_filter = ${common_env_data.src_rx} ${common_env_data.src_stm32}
upload_flags =
    BOOTLOADER=bootloader/bootloader_sx1280_rx_nano_v05.bin
    VECT_OFFSET=0x4000
lib_deps = SPI
lib_ignore = Wire, DAC, FIFO, LoRa_SX127x

[IGNORE_env:RX_2400_STM32_Nano_v0_5_BF_Passthrough]
platform = ${env:RX_2400_STM32_Nano_v0_5.platform}
framework = ${env:RX_2400_STM32_Nano_v0_5.framework}
board = ${env:RX_2400_STM32_Nano_v0_5.board}
board_upload.maximum_size = ${env:RX_2400_STM32_Nano_v0_5.board_upload.maximum_size}
build_unflags = ${env:RX_2400_STM32_Nano_v0_5.build_unflags}
build_flags = ${env:RX_2400_STM32_Nano_v0_5.build_flags}
src_filter = ${env:RX_2400_STM32_Nano_v0_5.src_filter}
lib_deps = ${env:RX_2400_STM32_Nano_v0_5.lib_deps}
lib_ignore = ${env:RX_2400_STM32_Nano_v0_5.lib_ignore}
